{"version":3,"file":"static/js/342.eee9714f.chunk.js","mappings":"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","sources":["components/Main/Main.styled.jsx","constance/constance.js","components/SearchForm/SearchForm.jsx","components/MoviesPageTemplate/MoviesPageTemplate.styled.jsx","components/MoviesPageTemplate/MoviesPageTemplate.jsx","pages/MoviesPage/MoviesPage.jsx","services/themoviedbApi.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Main = styled.main`\n  background: linear-gradient(#180101, #4e0d0d);\n  \n`;","export const SEARCH_IMG_URL = 'https://image.tmdb.org/t/p/w500';\nexport const API_KEY = 'acf3cca943ac5337a13eedff98e533f5';\nexport const POPULAR_FILM_FETCH = '/trending/movie/day';\nexport const SEARCH__MOVIE = '/search/movie';\nexport const FILM = '/movie';\nexport const FILM_CAST = '/credits';\nexport const FILM_REVIEWS = '/reviews';\n","import { useState } from \"react\"\n\nexport const SearchForm = ({ onSubmit }) => {\n    const [searchValue, setSearchValue] = useState('');\n    \n    const handleChange = event => {\n        setSearchValue(event.currentTarget.value)\n    }\n    \n    const handleSubmit = event => {\n        event.preventDefault();\n        const normalizedSearchValue = searchValue.toLowerCase().trim();\n        onSubmit(normalizedSearchValue);\n        setSearchValue('');\n    }\n    return (\n        <form onSubmit={handleSubmit}>\n            <input type=\"text\" placeholder=\"search films\" value={searchValue} onChange={handleChange}/>\n            <button type=\"submit\">Search</button>\n        </form>\n    )\n}","import styled from 'styled-components';\n\nexport const Section = styled.section`\n  text-align: center;\n`;\n\nexport const FilmList = styled.ul`\n    margin-top: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nexport const FilmItem = styled.li`\n    width: 240px;\n    border-radius: 10px;\n    overflow: hidden;\n    background-color: #ec711f;\n    transform: scale(1);\n    transition: transform 250ms ease;\n    :not(:last-child){\n        margin-bottom: 30px;\n    }\n    :hover,\n    :focus {\n        transform: scale(1.1);\n    }\n`;\n\nexport const FilmItemImg = styled.img`\n    width: 290px;\n    height: 320px;\n    object-fit: fill;\n`;\n\nexport const DefaultImg = styled.img`\n    width: 290px;\n    height: 320px;\n    object-fit: fill;\n`;\n\nexport const FilmItemTitle = styled.h3`\n    padding: 5px;\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    font-weight: 400;\n    line-height: 133%;\n\n    color: #fff;\n`;\n","import { Link, useLocation } from \"react-router-dom\";\nimport { SEARCH_IMG_URL } from \"constance\";\nimport DefaultPoster from \"../../images/PosterNotAvailable.jpg\";\nimport { Section, FilmList, FilmItem, FilmItemImg, DefaultImg, FilmItemTitle } from \"./MoviesPageTemplate.styled\";\nimport { Wrapper } from \"components/Wrapper/Wrapper.styled\";\n\nexport const MoviesPageTemplate = ({ films })=> {\n   const location = useLocation();\n       return (\n         <Section>\n            <Wrapper>\n               <FilmList>\n                  {\n                     films.map(({ id, title, poster_path }) => (\n                        <FilmItem key={id}>\n                           <Link to={`${id}`} state={{from: location}}>\n                              {poster_path ? <FilmItemImg src={`${SEARCH_IMG_URL}/${poster_path}`} alt={title} /> : <DefaultImg src={DefaultPoster} alt=\"poster not available\"/>}\n                              <FilmItemTitle>{title}</FilmItemTitle>\n                           </Link>\n                        </FilmItem>\n                     ))\n                  }\n               </FilmList>\n            </Wrapper>\n         </Section> \n        \n    )\n}","import { useEffect, useState } from \"react\"\nimport { SearchForm } from \"components/SearchForm/SearchForm\";\nimport { searchFilmsByName } from \"services/themoviedbApi\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { MoviesPageTemplate } from \"components/MoviesPageTemplate/MoviesPageTemplate\";\nimport toast, { Toaster } from 'react-hot-toast';\nimport { BounceLoader } from \"react-spinners\";\nimport { Main } from \"components/Main/Main.styled\";\n\nexport const MoviesPage = () => {\n   const [loading, setLoading] = useState(false);\n   const [error, setError] = useState(null);\n   const [searchParams, setSearchParams] = useSearchParams();\n   const [films, setFilms] = useState(null);\n\n   useEffect(() => {\n\n      const name = searchParams.get('query')\n      if(!name){\n         return;\n      }\n      setLoading(true);\n\n     const searchFilms = async () => {\n         try {\n            const films = await searchFilmsByName(name);\n            if (!films.results.length) {\n            toast.error('No result, please input a new search value!');\n            return;\n            }\n            setFilms(films.results);\n         } catch (error) {\n           setError(error.message);\n        } finally {\n           setLoading(false);\n        }\n        \n     } \n     searchFilms();    \n   },[searchParams]);\n\n   const onSubmit = value => {\n      if(!value){\n         toast.error('Plese input search value!');\n         return;\n      }\n      setSearchParams({query: value});\n   }\n   \n   return (\n      <Main>\n         <Toaster toastOptions={{\n            style: {\n               background: '#e45b5b',\n               padding: '16px',\n               color: '#e9e9e9',\n            },\n         }}/>\n         <SearchForm onSubmit={onSubmit}/>\n         {loading && <BounceLoader color=\"#e24392\"/>}\n         {error && <h2>{error}</h2>}\n         {films && \n         <MoviesPageTemplate films={films}/>}\n      </Main>\n         \n   )\n}","import axios from 'axios';\nimport { API_KEY, POPULAR_FILM_FETCH, SEARCH__MOVIE, FILM } from '../constance';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getPopularFilms = async () => {\n  const response = await axios.get(`${POPULAR_FILM_FETCH}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const searchFilmsByName = async name => {\n  const response = await axios.get(\n    `${SEARCH__MOVIE}?api_key=${API_KEY}&query=${name}`\n  );\n  return response.data;\n};\n\nexport const getFilmDetailsById = async id => {\n  const response = await axios.get(\n    `${FILM}/${id}?api_key=${API_KEY}&append_to_response=credits,reviews`\n  );\n  return response.data;\n};\n"],"names":["Main","styled","SEARCH_IMG_URL","API_KEY","POPULAR_FILM_FETCH","SEARCH__MOVIE","FILM","SearchForm","onSubmit","useState","searchValue","setSearchValue","event","preventDefault","normalizedSearchValue","toLowerCase","trim","type","placeholder","value","onChange","currentTarget","Section","FilmList","FilmItem","FilmItemImg","DefaultImg","FilmItemTitle","MoviesPageTemplate","films","location","useLocation","map","id","title","poster_path","to","state","from","src","alt","DefaultPoster","MoviesPage","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","setFilms","useEffect","name","get","searchFilms","searchFilmsByName","results","length","toast","message","toastOptions","style","background","padding","color","query","BounceLoader","axios","getPopularFilms","response","data","getFilmDetailsById"],"sourceRoot":""}