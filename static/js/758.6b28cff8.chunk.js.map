{"version":3,"file":"static/js/758.6b28cff8.chunk.js","mappings":"wQAAO,IAAMA,EAAiB,kCACjBC,EAAU,mCACVC,EAAqB,sBACrBC,EAAgB,gBAChBC,EAAO,U,yLCFNC,EAAuB,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAC7BC,GAAWC,EAAAA,EAAAA,MAETC,EAAqEH,EAArEG,YAAaC,EAAwDJ,EAAxDI,MAAOC,EAAiDL,EAAjDK,aAAcC,EAAmCN,EAAnCM,aAAcC,EAAqBP,EAArBO,SAAUC,EAAWR,EAAXQ,OAC5DC,EAAcJ,EAAaK,MAAM,EAAG,GACpCC,EAAaH,EAAOI,KAAI,SAAAC,GAAI,OAAIA,EAAKC,QAAMC,KAAK,MACtD,OACI,iCACI,gCACI,gBAAKC,IAAG,UAAKtB,EAAAA,IAAL,OAAsBS,GAAec,IAAI,MACjD,0BAAKb,EAAL,KAAcK,EAAd,QACI,wCAAgBH,MACpB,sCACI,uBAAIC,KACR,oCACI,uBAAII,QAGZ,mBAEA,mDAEA,4BACI,SAAC,KAAD,CAASO,GAAG,OAAOC,MAAOlB,EAASkB,MAAnC,mBACA,SAAC,KAAD,CAASD,GAAG,UAAUC,MAAOlB,EAASkB,MAAtC,yBAGJ,sBC3BCC,EAAU,WACnB,IAAMnB,GAAWC,EAAAA,EAAAA,MACXmB,GAAWC,EAAAA,EAAAA,MAIjB,OACI,mBAAQC,KAAK,SAASC,QAJN,WAAO,IAAD,IACtBH,EAAQ,iBAACpB,QAAD,IAACA,GAAD,UAACA,EAAUkB,aAAX,aAAC,EAAiBM,YAAlB,QAA0B,YAGlC,sB,UCTKC,EAAe,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAC5B,OAAO,6CAAqBA,EAArB,uBCQJC,GAAOC,EAAAA,EAAAA,GAAY,QACnBC,GAAUD,EAAAA,EAAAA,GAAY,WAEfE,EAAmB,WAC5B,OAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAsCL,EAAAA,EAAAA,UAAS,MAA/C,eAAOO,EAAP,KAAoBC,EAApB,KACA,GAAwBR,EAAAA,EAAAA,UAAS,IAAjC,eAAOS,EAAP,KAAaC,EAAb,KACA,GAA8BV,EAAAA,EAAAA,UAAS,IAAvC,eAAOW,EAAP,KAAgBC,EAAhB,KA8BA,OA7BAC,EAAAA,EAAAA,YAAU,WACNX,GAAW,GACX,IAAMY,EAAc,mCAAG,gIAEQC,EAAAA,EAAAA,IAAmBV,GAF3B,OAETW,EAFS,OAIXC,EASAD,EATAC,GACA7C,EAQA4C,EARA5C,MACAC,EAOA2C,EAPA3C,aACAC,EAMA0C,EANA1C,aACAH,EAKA6C,EALA7C,YACAI,EAIAyC,EAJAzC,SACAC,EAGAwC,EAHAxC,OACUiC,EAEVO,EAFAE,QAAUT,KACAU,EACVH,EADAL,QAAUQ,QAEdX,EAAe,CAAES,GAAAA,EAAI7C,MAAAA,EAAOC,aAAAA,EAAcC,aAAAA,EAAcH,YAAAA,EAAaI,SAAAA,EAAUC,OAAAA,IAC/EkC,EAAQD,GACRG,EAAWO,GAhBI,kDAkBff,EAAS,KAAMgB,SAlBA,yBAoBnBlB,GAAW,GApBQ,6EAAH,qDAwBpBY,MACD,CAACT,KAGD,iCACC,SAACjB,EAAD,IACCe,IAAS,wBAAKA,IACdF,IAAW,SAAC,EAAAoB,aAAD,CAAcC,MAAM,YAC/Bf,IAAe,SAACxC,EAAD,CAAsBC,MAAOuC,KAE7C,SAAC,EAAAgB,SAAD,CAAUC,UAAU,SAAC,EAAAC,UAAD,CAAWH,MAAM,YAArC,UACI,UAAC,KAAD,YACI,SAAC,KAAD,CAAOI,KAAK,OAAOC,QAASlB,EAAKmB,QAAQ,SAAChC,EAAD,CAAMa,KAAMA,KAAU,SAACf,EAAD,CAAcC,MAAO,wBACpF,SAAC,KAAD,CAAO+B,KAAK,UAAUC,QAAShB,EAAQiB,QAAQ,SAAC9B,EAAD,CAASa,QAASA,KAAa,SAACjB,EAAD,CAAcC,MAAO,wB,oKCvDnHkC,IAAAA,SAAAA,QAAyB,+BAElB,IAAMC,EAAe,mCAAG,oGACND,IAAAA,IAAA,UAAajE,EAAAA,GAAb,oBAA2CD,EAAAA,KADrC,cACvBqD,EADuB,yBAEtBA,EAASnC,MAFa,2CAAH,qDAKfkD,EAAiB,mCAAG,WAAMjD,GAAN,uFACR+C,IAAAA,IAAA,UAClBhE,EAAAA,GADkB,oBACOF,EAAAA,GADP,kBACwBmB,IAFhB,cACzBkC,EADyB,yBAIxBA,EAASnC,MAJe,2CAAH,sDAOjBkC,EAAkB,mCAAG,WAAME,GAAN,uFACTY,IAAAA,IAAA,UAClB/D,EAAAA,GADkB,YACVmD,EADU,oBACItD,EAAAA,GADJ,wCADS,cAC1BqD,EAD0B,yBAIzBA,EAASnC,MAJgB,2CAAH","sources":["constance/constance.js","components/MovieDetailsTemplate.jsx","components/BackBtn.jsx","components/ErrorMessage.jsx","pages/MovieDetailsPage.jsx","services/themoviedbApi.js"],"sourcesContent":["export const SEARCH_IMG_URL = 'https://image.tmdb.org/t/p/w500';\nexport const API_KEY = 'acf3cca943ac5337a13eedff98e533f5';\nexport const POPULAR_FILM_FETCH = '/trending/movie/day';\nexport const SEARCH__MOVIE = '/search/movie';\nexport const FILM = '/movie';\nexport const FILM_CAST = '/credits';\nexport const FILM_REVIEWS = '/reviews';\n","import { SEARCH_IMG_URL } from \"constance\";\nimport { useLocation, NavLink } from \"react-router-dom\";\n export const MovieDetailsTemplate = ({movie}) => {\n    const location = useLocation();\n\n    const { poster_path, title, release_date, vote_average, overview, genres } = movie;\n    const releaseYear = release_date.slice(0, 4);\n    const filmGenres = genres.map(data => data.name).join(', ');\n    return (\n        <>\n            <article>\n                <img src={`${SEARCH_IMG_URL}${poster_path}`} alt=\"\" />\n                <h2>{title} ({releaseYear})</h2>\n                    <p>User score: {vote_average}</p>\n                <h3>Overview</h3>\n                    <p>{overview}</p>\n                <h4>Genres</h4>\n                    <p>{filmGenres}</p>\n            </article>\n\n            <hr />\n\n            <p>Additional information</p>\n            \n            <nav>\n                <NavLink to='cast' state={location.state}>Cast</NavLink> \n                <NavLink to='reviews' state={location.state}>Reviews</NavLink> \n            </nav>\n            \n            <hr />\n        </>\n        \n    )\n}","import { useLocation, useNavigate } from \"react-router-dom\"\n\nexport const BackBtn = () => {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const handleClick = () => {\n        navigate(location?.state?.from ?? '/movies');\n    } \n    return (\n        <button type=\"button\" onClick={handleClick}>Go back</button>\n    )\n}\n","export const ErrorMessage = ({ value }) => {\n   return <p>We dont have any {value} for this movie.</p>    \n}","import { useEffect, useState, Suspense } from \"react\";\nimport { createChunk } from \"helpers/createChunk\";\nimport { useParams, Routes, Route } from \"react-router-dom\";\nimport { getFilmDetailsById } from \"services/themoviedbApi\";\nimport { MovieDetailsTemplate } from \"components/MovieDetailsTemplate\";\nimport { BackBtn } from \"components/BackBtn\";\nimport { BounceLoader, DotLoader } from \"react-spinners\";\nimport { ErrorMessage } from \"components/ErrorMessage\";\n\nconst Cast = createChunk('Cast');\nconst Reviews = createChunk('Reviews');\n\nexport const MovieDetailsPage = () => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const { movieId } = useParams();\n    const [filmDetails, setFilmDetails] = useState(null);\n    const [cast, setCast] = useState([]);\n    const [reviews, setReviews] = useState([]);\n    useEffect(() => {\n        setLoading(true);\n        const getFilmDetails = async () => {\n            try {\n                const response = await getFilmDetailsById(movieId);\n                const {\n                    id,\n                    title,\n                    release_date,\n                    vote_average,\n                    poster_path,\n                    overview,\n                    genres,\n                    credits:{ cast },\n                    reviews:{ results},\n                } = response;\n                setFilmDetails({ id, title, release_date, vote_average, poster_path, overview, genres });\n                setCast(cast);\n                setReviews(results)\n            } catch (error) {\n                setError(error.message);\n            } finally {\n            setLoading(false);\n            }\n            \n        }\n        getFilmDetails();\n    }, [movieId]);\n    \n    return (\n       <>\n        <BackBtn />\n        {error && <h2>{error}</h2>}\n        {loading && <BounceLoader color=\"#e24392\"/>}\n        {filmDetails && <MovieDetailsTemplate movie={filmDetails}/>}\n\n        <Suspense fallback={<DotLoader color=\"#e24392\"/>}>\n            <Routes>\n                <Route path=\"cast\" element={cast.length ?<Cast cast={cast}/> : <ErrorMessage value={'cast information'}/>}/>\n                <Route path=\"reviews\" element={reviews.length ?<Reviews reviews={reviews}/> : <ErrorMessage value={'reviews'}/>}/>\n            </Routes> \n        </Suspense>\n\n       </> \n    )\n}","import axios from 'axios';\nimport { API_KEY, POPULAR_FILM_FETCH, SEARCH__MOVIE, FILM } from '../constance';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getPopularFilms = async () => {\n  const response = await axios.get(`${POPULAR_FILM_FETCH}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const searchFilmsByName = async name => {\n  const response = await axios.get(\n    `${SEARCH__MOVIE}?api_key=${API_KEY}&query=${name}`\n  );\n  return response.data;\n};\n\nexport const getFilmDetailsById = async id => {\n  const response = await axios.get(\n    `${FILM}/${id}?api_key=${API_KEY}&append_to_response=credits,reviews`\n  );\n  return response.data;\n};\n"],"names":["SEARCH_IMG_URL","API_KEY","POPULAR_FILM_FETCH","SEARCH__MOVIE","FILM","MovieDetailsTemplate","movie","location","useLocation","poster_path","title","release_date","vote_average","overview","genres","releaseYear","slice","filmGenres","map","data","name","join","src","alt","to","state","BackBtn","navigate","useNavigate","type","onClick","from","ErrorMessage","value","Cast","createChunk","Reviews","MovieDetailsPage","useState","loading","setLoading","error","setError","movieId","useParams","filmDetails","setFilmDetails","cast","setCast","reviews","setReviews","useEffect","getFilmDetails","getFilmDetailsById","response","id","credits","results","message","BounceLoader","color","Suspense","fallback","DotLoader","path","element","length","axios","getPopularFilms","searchFilmsByName"],"sourceRoot":""}