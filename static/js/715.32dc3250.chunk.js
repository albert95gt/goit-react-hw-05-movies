"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[715],{2238:function(e,t,r){r.d(t,{qf:function(){return n},$h:function(){return a},po:function(){return u},rG:function(){return c},oU:function(){return o}});var n="https://image.tmdb.org/t/p/w500",a="acf3cca943ac5337a13eedff98e533f5",u="/trending/movie/day",c="/search/movie",o="/movie"},7715:function(e,t,r){r.r(t),r.d(t,{MoviesPage:function(){return x}});var n=r(5861),a=r(885),u=r(7757),c=r.n(u),o=r(2791),s=r(184),i=function(e){var t=e.onSubmit,r=(0,o.useState)(""),n=(0,a.Z)(r,2),u=n[0],c=n[1];return(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=u.toLowerCase().trim();t(r),c("")},children:[(0,s.jsx)("input",{type:"text",placeholder:"search films",value:u,onChange:function(e){c(e.currentTarget.value)}}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})},f=r(7412),p=r(501),l=r(6871),h=r(2238),v=function(e){var t=e.films,r=(0,l.TH)();return(0,s.jsx)("ul",{children:t.map((function(e){var t=e.id,n=e.title,a=e.poster_path;return(0,s.jsx)("li",{children:(0,s.jsxs)(p.rU,{to:"".concat(t),state:{from:r},children:[(0,s.jsx)("img",{src:"".concat(h.qf,"/").concat(a),alt:n}),(0,s.jsx)("h2",{children:n})]})},t)}))})},d=r(8479),m=r(2575),x=function(){var e=(0,o.useState)(!1),t=(0,a.Z)(e,2),r=t[0],u=t[1],l=(0,o.useState)(null),h=(0,a.Z)(l,2),x=h[0],b=h[1],g=(0,p.lr)(),k=(0,a.Z)(g,2),w=k[0],j=k[1],y=(0,o.useState)([]),Z=(0,a.Z)(y,2),_=Z[0],S=Z[1];(0,o.useEffect)((function(){var e=w.get("query");if(e){u(!0);var t=function(){var t=(0,n.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.WE)(e);case 3:if((r=t.sent).results.length){t.next=7;break}return d.ZP.error("No result, please input a new search value!"),t.abrupt("return");case 7:S(r.results),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),b(t.t0.message);case 13:return t.prev=13,u(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(){return t.apply(this,arguments)}}();t()}}),[w]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.x7,{toastOptions:{style:{background:"#e45b5b",padding:"16px",color:"#e9e9e9"}}}),(0,s.jsx)(i,{onSubmit:function(e){e?j({query:e}):d.ZP.error("Plese input search value!")}}),r&&(0,s.jsx)(m.BounceLoader,{color:"#e24392"}),x&&(0,s.jsx)("h2",{children:x}),_&&(0,s.jsx)(v,{films:_})]})}},7412:function(e,t,r){r.d(t,{Cp:function(){return i},WE:function(){return f},zO:function(){return p}});var n=r(5861),a=r(7757),u=r.n(a),c=r(4569),o=r.n(c),s=r(2238);o().defaults.baseURL="https://api.themoviedb.org/3";var i=function(){var e=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(s.po,"?api_key=").concat(s.$h));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(s.rG,"?api_key=").concat(s.$h,"&query=").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("".concat(s.oU,"/").concat(t,"?api_key=").concat(s.$h,"&append_to_response=credits,reviews"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=715.32dc3250.chunk.js.map